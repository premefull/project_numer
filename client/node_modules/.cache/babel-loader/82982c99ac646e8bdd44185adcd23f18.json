{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Admin\\\\Documents\\\\numer\\\\ProjectNumer-master\\\\ProjectNumer-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Admin\\\\Documents\\\\numer\\\\ProjectNumer-master\\\\ProjectNumer-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Admin\\\\Documents\\\\numer\\\\ProjectNumer-master\\\\ProjectNumer-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Admin\\\\Documents\\\\numer\\\\ProjectNumer-master\\\\ProjectNumer-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Admin\\\\Documents\\\\numer\\\\ProjectNumer-master\\\\ProjectNumer-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Admin\\\\Documents\\\\numer\\\\ProjectNumer-master\\\\ProjectNumer-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Admin\\\\Documents\\\\numer\\\\ProjectNumer-master\\\\ProjectNumer-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\numer\\\\ProjectNumer-master\\\\ProjectNumer-master\\\\client\\\\src\\\\Integration\\\\CompositeTrapzoidal.js\";\nimport React, { Component } from 'react';\nimport { Card, Input, Button, Col, Row, Tabs } from 'antd';\nimport axios from 'axios';\nimport Plot from 'react-plotly.js';\nvar TabPane = Tabs.TabPane;\n\nvar math = require('mathjs');\n\nvar counterh = [];\n\nvar Algebrite = require('algebrite');\n\nvar I, Integral, error;\nvar counterhy = [];\n\nfunction callback(key) {\n  console.log(key);\n}\n\nvar fx = \" \";\n\nvar CompositeTrapezoidal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CompositeTrapezoidal, _Component);\n\n  function CompositeTrapezoidal() {\n    var _this;\n\n    _classCallCheck(this, CompositeTrapezoidal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CompositeTrapezoidal).call(this));\n    _this.state = {\n      fx: \"\",\n      a: 0,\n      b: 0,\n      n: 0,\n      data: [],\n      loading: true,\n      error: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CompositeTrapezoidal, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"compositetrapezoidal\",\n    value: function compositetrapezoidal(a, b, n) {\n      if (this.state.fx !== \"\") {\n        fx = this.state.fx;\n      } else {\n        fx = this.state.data[10].fx;\n      }\n\n      var h = (b - a) / n;\n      var ans = a;\n      counterh[0] = ans;\n      console.log(\"ans\", ans);\n\n      for (var i = 1; i <= n; i++) {\n        ans = ans + h;\n        counterh[i] = ans;\n      }\n\n      I = h / 2 * (this.func(a) + this.func(b) + 2 * this.summationX2(n, h, a));\n      counterhy[0] = this.func(a); //graph y\n\n      counterhy[n] = this.func(b); //graph y\n\n      console.log(this.func(a));\n      console.log(this.func(b));\n      Integral = this.Integrate(a, b);\n      error = Math.abs((Integral - I) / Integral);\n      I = I.toFixed(6);\n      Integral = Integral.toFixed(6);\n      error = error.toFixed(6);\n\n      if (this.state.fx !== \"\") {\n        this.setState({\n          Graph: true\n        });\n      } else {\n        this.setState({\n          Graphdb: true\n        });\n      }\n    }\n  }, {\n    key: \"Integrate\",\n    value: function Integrate(a, b) {\n      if (this.state.fx !== \"\") {\n        var expr = math.compile(Algebrite.integral(Algebrite.eval(this.state.fx)).toString());\n        return expr.eval({\n          x: b\n        }) - expr.eval({\n          x: a\n        });\n      } else {\n        expr = math.compile(Algebrite.integral(Algebrite.eval(this.state.data[10].fx)).toString());\n        return expr.eval({\n          x: b\n        }) - expr.eval({\n          x: a\n        });\n      } //https://www.npmjs.com/package/algebrite\n\n    }\n  }, {\n    key: \"summationX2\",\n    value: function summationX2(n, h, a) {\n      var sum = 0;\n      var section = a + h; // 3+2\n\n      console.log(section);\n\n      for (var i = 1; i < n; i++) {\n        //วิ่งตามช่วง\n        sum += this.func(section); //เอาไปแทน\n\n        counterhy[i] = this.func(section);\n        section += h;\n      }\n\n      console.log(sum);\n      return sum;\n    }\n  }, {\n    key: \"func\",\n    value: function func(X) {\n      if (this.state.fx !== \"\") {\n        var variable = math.compile(this.state.fx);\n        var scope = {\n          x: parseFloat(X)\n        }; //แปลงค่า string หรือตัวแปรให้เป็น Number\n\n        return variable.eval(scope); //eval compile 'String'\n      } else {\n        var variables = math.compile(this.state.data[10].fx);\n        var _scope = {\n          x: parseFloat(X)\n        }; //แปลงค่า string หรือตัวแปรให้เป็น Number\n\n        return variables.eval(_scope); //eval compile 'String'\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://localhost:5000/api/bisectionfxs').then(function (res) {\n        var data = res.data.data; // get the data array instead of object\n\n        _this2.setState({\n          data: data,\n          loading: false\n        });\n\n        console.log(data); // fx = this.state.data[0];\n      }).catch(function (err) {\n        // log request error and prevent access to undefined state\n        _this2.setState({\n          loading: false,\n          error: true\n        });\n\n        console.error(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.loading) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, \" Loading... \"));\n      }\n\n      if (this.state.error || !this.state.data[10]) {\n        // if request failed or data is empty don't try to access it either\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, \" An error occured \"));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        style: {\n          color: \"black\",\n          fontWeight: \"bold\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Composite Trapzoidal\"), React.createElement(\"div\", {\n        style: {\n          padding: 20,\n          backgroundColor: '#fff1b8'\n        },\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        defaultActiveKey: \"1\",\n        onChange: callback,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(TabPane, {\n        tab: \"Insert by Yourself\",\n        key: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(Col, {\n        style: {\n          width: 400\n        },\n        span: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Card, {\n        style: {\n          width: 350,\n          padding: '3px'\n        },\n        title: \"Insert Eqation\",\n        bordered: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Equation\"), React.createElement(Input, {\n        size: \"large\",\n        name: \"fx\",\n        style: {\n          width: 300,\n          fontSize: \"18px\",\n          fontWeight: \"bold\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"lower\"), React.createElement(Input, {\n        size: \"large\",\n        name: \"a\",\n        style: {\n          width: 300,\n          fontSize: \"18px\",\n          fontWeight: \"bold\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Upper\"), React.createElement(Input, {\n        size: \"large\",\n        name: \"b\",\n        style: {\n          width: 300,\n          fontSize: \"18px\",\n          fontWeight: \"bold\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"n\"), React.createElement(Input, {\n        size: \"large\",\n        name: \"n\",\n        style: {\n          width: 300,\n          fontSize: \"18px\",\n          fontWeight: \"bold\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), React.createElement(Button, {\n        onClick: function onClick() {\n          return _this3.compositetrapezoidal(parseFloat(_this3.state.a), parseFloat(_this3.state.b), parseInt(_this3.state.n));\n        },\n        style: {\n          fontSize: \"20px\",\n          marginLeft: 90,\n          color: '#ffffff',\n          background: '#12406A'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Submit\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        span: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, this.state.Graph && //https://stackoverflow.com/questions/52605304/show-hide-a-component-in-react-using-state/52605495\n      React.createElement(Card, {\n        bordered: true,\n        style: {\n          marginBottom: 20,\n          width: 700,\n          height: 400,\n          border: \"2px solid black\",\n\n          /* background: \"#0000000\",*/\n          color: '#ffffff',\n          float: \"left\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(Plot, {\n        data: [{\n          x: counterh,\n          y: counterh.map(function (x) {\n            return math.compile(fx).eval({\n              x: x\n            });\n          }),\n          name: 'fx',\n          type: 'scatter',\n          marker: {\n            color: 'green'\n          },\n          fill: 'tozeroy'\n        }, {\n          x: counterh,\n          y: counterh.map(function (x) {\n            return math.compile(fx).eval({\n              x: x\n            });\n          }),\n          name: 'fx',\n          type: 'scatter',\n          marker: {\n            color: 'green'\n          },\n          fill: 'tozeroy'\n        }],\n        layout: {\n          title: 'Plotfx'\n        },\n        style: {\n          width: \"50%\",\n          float: \"left\",\n          height: \"360px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        style: {\n          fontSize: \"24px\",\n          fontWeight: \"bold\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"I= \", I, \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      })), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Integral = \", Integral, \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      })), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"error = \", error, \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }))))), React.createElement(TabPane, {\n        tab: \"Insert By Database\",\n        key: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(Col, {\n        style: {\n          width: 400\n        },\n        span: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(Card, {\n        style: {\n          width: 350,\n          padding: '3px',\n          background: '#1d39c4'\n        },\n        title: \"Eqation from Database\",\n        bordered: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, \"Equation\"), React.createElement(Input, {\n        name: \"fx\",\n        size: \"large\",\n        style: {\n          width: 300,\n          background: 'black',\n          color: 'white',\n          fontSize: \"18px\",\n          fontWeight: \"bold\"\n        },\n        value: this.state.data[10].fx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, \"x\"), React.createElement(Input, {\n        name: \"b\",\n        size: \"large\",\n        style: {\n          width: 300,\n          background: 'black',\n          color: 'white',\n          fontSize: \"18px\",\n          fontWeight: \"bold\"\n        },\n        value: this.state.data[10].b,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, \"h\"), React.createElement(Input, {\n        name: \"n\",\n        size: \"large\",\n        style: {\n          width: 300,\n          background: 'black',\n          color: 'white',\n          fontSize: \"18px\",\n          fontWeight: \"bold\"\n        },\n        value: this.state.data[10].n,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }), React.createElement(Button, {\n        onClick: function onClick() {\n          return _this3.compositetrapezoidal(parseFloat(_this3.state.data[10].a), parseFloat(_this3.state.data[10].b), parseFloat(_this3.state.data[10].n));\n        },\n        style: {\n          fontSize: \"20px\",\n          marginLeft: 90,\n          color: '#ffffff',\n          background: '#12406A'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \"Request\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        span: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, this.state.Graphdb && //https://stackoverflow.com/questions/52605304/show-hide-a-component-in-react-using-state/52605495\n      React.createElement(Card, {\n        bordered: true,\n        style: {\n          marginBottom: 20,\n          width: 700,\n          height: 400,\n          border: \"2px solid black\",\n\n          /* background: \"#0000000\",*/\n          color: '#ffffff',\n          float: \"left\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(Plot, {\n        data: [{\n          x: counterh,\n          y: counterh.map(function (x) {\n            return math.compile(fx).eval({\n              x: x\n            });\n          }),\n          name: 'fx',\n          type: 'scatter',\n          marker: {\n            color: 'green'\n          },\n          fill: 'tozeroy'\n        }, {\n          x: counterh,\n          y: counterhy,\n          name: 'middle*2',\n          type: 'scatter',\n          marker: {\n            color: 'yellow'\n          }\n        }],\n        layout: {\n          title: 'Plotfx'\n        },\n        style: {\n          width: \"50%\",\n          float: \"left\",\n          height: \"360px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        style: {\n          fontSize: \"24px\",\n          fontWeight: \"bold\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, \"I = \", I, \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      })), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \"Integral = \", Integral, \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      })), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, \"error = \", error, \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }))))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return CompositeTrapezoidal;\n}(Component);\n\nexport default CompositeTrapezoidal;","map":{"version":3,"sources":["C:/Users/Admin/Documents/numer/ProjectNumer-master/ProjectNumer-master/client/src/Integration/CompositeTrapzoidal.js"],"names":["React","Component","Card","Input","Button","Col","Row","Tabs","axios","Plot","TabPane","math","require","counterh","Algebrite","I","Integral","error","counterhy","callback","key","console","log","fx","CompositeTrapezoidal","state","a","b","n","data","loading","handleChange","bind","event","setState","target","name","value","h","ans","i","func","summationX2","Integrate","Math","abs","toFixed","Graph","Graphdb","expr","compile","integral","eval","toString","x","sum","section","X","variable","scope","parseFloat","variables","get","then","res","catch","err","color","fontWeight","padding","backgroundColor","width","fontSize","compositetrapezoidal","parseInt","marginLeft","background","marginBottom","height","border","float","y","map","type","marker","fill","title"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAUC,IAAV,EAAgBC,KAAhB,EAAuBC,MAAvB,EAA+BC,GAA/B,EAAoCC,GAApC,EAAyCC,IAAzC,QAAqD,MAArD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;IACQC,O,GAAYH,I,CAAZG,O;;AACR,IAAIC,IAAI,GAAGC,OAAO,CAAC,QAAD,CAAlB;;AACA,IAAIC,QAAQ,GAAC,EAAb;;AACA,IAAIC,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAvB;;AACA,IAAIG,CAAJ,EAAOC,QAAP,EAAiBC,KAAjB;AACA,IAAIC,SAAS,GAAC,EAAd;;AACA,SAASC,QAAT,CAAkBC,GAAlB,EAAuB;AACnBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;;AACD,IAAIG,EAAE,GAAG,GAAT;;IACMC,oB;;;;;AACF,kCAAc;AAAA;;AAAA;;AACV;AACA,UAAKC,KAAL,GAAa;AACTF,MAAAA,EAAE,EAAE,EADK;AAETG,MAAAA,CAAC,EAAE,CAFM;AAGTC,MAAAA,CAAC,EAAE,CAHM;AAITC,MAAAA,CAAC,EAAE,CAJM;AAKTC,MAAAA,IAAI,EAAE,EALG;AAMTC,MAAAA,OAAO,EAAE,IANA;AAOTb,MAAAA,KAAK,EAAE;AAPE,KAAb;AASA,UAAKc,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AAXU;AAYb;;;;iCACYC,K,EAAO;AAChB,WAAKC,QAAL,qBACKD,KAAK,CAACE,MAAN,CAAaC,IADlB,EACyBH,KAAK,CAACE,MAAN,CAAaE,KADtC;AAIH;;;yCACoBX,C,EAAGC,C,EAAGC,C,EAAG;AAC1B,UAAI,KAAKH,KAAL,CAAWF,EAAX,KAAkB,EAAtB,EAA0B;AACtBA,QAAAA,EAAE,GAAG,KAAKE,KAAL,CAAWF,EAAhB;AACH,OAFD,MAGK;AACDA,QAAAA,EAAE,GAAG,KAAKE,KAAL,CAAWI,IAAX,CAAgB,EAAhB,EAAoBN,EAAzB;AACH;;AACD,UAAIe,CAAC,GAAG,CAACX,CAAC,GAAGD,CAAL,IAAUE,CAAlB;AACA,UAAIW,GAAG,GAAGb,CAAV;AACAb,MAAAA,QAAQ,CAAC,CAAD,CAAR,GAAa0B,GAAb;AACAlB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBiB,GAAlB;;AAEA,WAAI,IAAIC,CAAC,GAAE,CAAX,EAAcA,CAAC,IAAEZ,CAAjB,EAAmBY,CAAC,EAApB,EAAuB;AACnBD,QAAAA,GAAG,GAAGA,GAAG,GAAGD,CAAZ;AACAzB,QAAAA,QAAQ,CAAC2B,CAAD,CAAR,GAAcD,GAAd;AACH;;AAEDxB,MAAAA,CAAC,GAAIuB,CAAC,GAAG,CAAL,IAAW,KAAKG,IAAL,CAAUf,CAAV,IAAe,KAAKe,IAAL,CAAUd,CAAV,CAAf,GAA8B,IAAI,KAAKe,WAAL,CAAiBd,CAAjB,EAAoBU,CAApB,EAAuBZ,CAAvB,CAA7C,CAAJ;AACAR,MAAAA,SAAS,CAAC,CAAD,CAAT,GAAe,KAAKuB,IAAL,CAAUf,CAAV,CAAf,CAlB0B,CAkBE;;AAC5BR,MAAAA,SAAS,CAACU,CAAD,CAAT,GAAe,KAAKa,IAAL,CAAUd,CAAV,CAAf,CAnB0B,CAmBE;;AAG5BN,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKmB,IAAL,CAAUf,CAAV,CAAZ;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKmB,IAAL,CAAUd,CAAV,CAAZ;AACAX,MAAAA,QAAQ,GAAG,KAAK2B,SAAL,CAAejB,CAAf,EAAkBC,CAAlB,CAAX;AACAV,MAAAA,KAAK,GAAG2B,IAAI,CAACC,GAAL,CAAS,CAAC7B,QAAQ,GAAGD,CAAZ,IAAiBC,QAA1B,CAAR;AACAD,MAAAA,CAAC,GAAGA,CAAC,CAAC+B,OAAF,CAAU,CAAV,CAAJ;AACA9B,MAAAA,QAAQ,GAAGA,QAAQ,CAAC8B,OAAT,CAAiB,CAAjB,CAAX;AACA7B,MAAAA,KAAK,GAAGA,KAAK,CAAC6B,OAAN,CAAc,CAAd,CAAR;;AACA,UAAI,KAAKrB,KAAL,CAAWF,EAAX,KAAkB,EAAtB,EAA0B;AACtB,aAAKW,QAAL,CAAc;AACVa,UAAAA,KAAK,EAAE;AADG,SAAd;AAGH,OAJD,MAKK;AACD,aAAKb,QAAL,CAAc;AACdc,UAAAA,OAAO,EAAE;AADK,SAAd;AAIH;AACJ;;;8BACStB,C,EAAGC,C,EAAG;AACZ,UAAI,KAAKF,KAAL,CAAWF,EAAX,KAAkB,EAAtB,EAA0B;AACtB,YAAI0B,IAAI,GAAGtC,IAAI,CAACuC,OAAL,CAAapC,SAAS,CAACqC,QAAV,CAAmBrC,SAAS,CAACsC,IAAV,CAAe,KAAK3B,KAAL,CAAWF,EAA1B,CAAnB,EAAkD8B,QAAlD,EAAb,CAAX;AACA,eAAOJ,IAAI,CAACG,IAAL,CAAU;AAAEE,UAAAA,CAAC,EAAE3B;AAAL,SAAV,IAAsBsB,IAAI,CAACG,IAAL,CAAU;AAAEE,UAAAA,CAAC,EAAE5B;AAAL,SAAV,CAA7B;AACH,OAHD,MAIK;AACDuB,QAAAA,IAAI,GAAGtC,IAAI,CAACuC,OAAL,CAAapC,SAAS,CAACqC,QAAV,CAAmBrC,SAAS,CAACsC,IAAV,CAAe,KAAK3B,KAAL,CAAWI,IAAX,CAAgB,EAAhB,EAAoBN,EAAnC,CAAnB,EAA2D8B,QAA3D,EAAb,CAAP;AACA,eAAOJ,IAAI,CAACG,IAAL,CAAU;AAAEE,UAAAA,CAAC,EAAE3B;AAAL,SAAV,IAAsBsB,IAAI,CAACG,IAAL,CAAU;AAAEE,UAAAA,CAAC,EAAE5B;AAAL,SAAV,CAA7B;AACH,OARW,CASZ;;AACH;;;gCACWE,C,EAAGU,C,EAAGZ,C,EAAG;AACjB,UAAI6B,GAAG,GAAG,CAAV;AACA,UAAIC,OAAO,GAAG9B,CAAC,GAAGY,CAAlB,CAFiB,CAEI;;AACrBjB,MAAAA,OAAO,CAACC,GAAR,CAAYkC,OAAZ;;AACA,WAAK,IAAIhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,CAApB,EAAuBY,CAAC,EAAxB,EAA4B;AAAE;AAC1Be,QAAAA,GAAG,IAAI,KAAKd,IAAL,CAAUe,OAAV,CAAP,CADwB,CACE;;AAC1BtC,QAAAA,SAAS,CAACsB,CAAD,CAAT,GAAe,KAAKC,IAAL,CAAUe,OAAV,CAAf;AACAA,QAAAA,OAAO,IAAIlB,CAAX;AACH;;AACDjB,MAAAA,OAAO,CAACC,GAAR,CAAYiC,GAAZ;AACA,aAAOA,GAAP;AACH;;;yBAEIE,C,EAAG;AACJ,UAAI,KAAKhC,KAAL,CAAWF,EAAX,KAAkB,EAAtB,EAA0B;AACtB,YAAImC,QAAQ,GAAG/C,IAAI,CAACuC,OAAL,CAAa,KAAKzB,KAAL,CAAWF,EAAxB,CAAf;AACA,YAAIoC,KAAK,GAAG;AAAEL,UAAAA,CAAC,EAAEM,UAAU,CAACH,CAAD;AAAf,SAAZ,CAFsB,CAEY;;AAClC,eAAOC,QAAQ,CAACN,IAAT,CAAcO,KAAd,CAAP,CAHsB,CAGO;AAChC,OAJD,MAKK;AACD,YAAIE,SAAS,GAAGlD,IAAI,CAACuC,OAAL,CAAa,KAAKzB,KAAL,CAAWI,IAAX,CAAgB,EAAhB,EAAoBN,EAAjC,CAAhB;AACA,YAAIoC,MAAK,GAAG;AAAEL,UAAAA,CAAC,EAAEM,UAAU,CAACH,CAAD;AAAf,SAAZ,CAFC,CAEiC;;AAClC,eAAOI,SAAS,CAACT,IAAV,CAAeO,MAAf,CAAP,CAHC,CAG6B;AACjC;AACJ;;;wCACmB;AAAA;;AAChBnD,MAAAA,KAAK,CAACsD,GAAN,CAAU,wCAAV,EACKC,IADL,CACU,UAAAC,GAAG,EAAI;AACT,YAAMnC,IAAI,GAAGmC,GAAG,CAACnC,IAAJ,CAASA,IAAtB,CADS,CACmB;;AAC5B,QAAA,MAAI,CAACK,QAAL,CAAc;AAAEL,UAAAA,IAAI,EAAJA,IAAF;AAAQC,UAAAA,OAAO,EAAE;AAAjB,SAAd;;AACAT,QAAAA,OAAO,CAACC,GAAR,CAAYO,IAAZ,EAHS,CAIT;AAEH,OAPL,EAQKoC,KARL,CAQW,UAAAC,GAAG,EAAI;AAAE;AACZ,QAAA,MAAI,CAAChC,QAAL,CAAc;AAAEJ,UAAAA,OAAO,EAAE,KAAX;AAAkBb,UAAAA,KAAK,EAAE;AAAzB,SAAd;;AACAI,QAAAA,OAAO,CAACJ,KAAR,CAAciD,GAAd;AACH,OAXL;AAYH;;;6BACQ;AAAA;;AACL,UAAI,KAAKzC,KAAL,CAAWK,OAAf,EAAwB;AACpB,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,CADJ;AAKH;;AACD,UAAI,KAAKL,KAAL,CAAWR,KAAX,IAAoB,CAAC,KAAKQ,KAAL,CAAWI,IAAX,CAAgB,EAAhB,CAAzB,EAA8C;AAAE;AAC5C,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,CADJ;AAKH;;AACD,aAEQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,KAAK,EAAE;AAAEsC,UAAAA,KAAK,EAAE,OAAT;AAAkBC,UAAAA,UAAU,EAAE;AAA9B,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,EAEI;AAAK,QAAA,KAAK,EAAE;AAAEC,UAAAA,OAAO,EAAE,EAAX;AAAeC,UAAAA,eAAe,EAAE;AAAhC,SAAZ;AACI,QAAA,QAAQ,EAAE,KAAKvC,YADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGI,oBAAC,IAAD;AAAM,QAAA,gBAAgB,EAAC,GAAvB;AAA2B,QAAA,QAAQ,EAAEZ,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,OAAD;AAAS,QAAA,GAAG,EAAC,oBAAb;AAAkC,QAAA,GAAG,EAAC,GAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAK,QAAA,KAAK,EAAE;AAAEoD,UAAAA,KAAK,EAAE;AAAT,SAAZ;AAA4B,QAAA,IAAI,EAAE,EAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEA,UAAAA,KAAK,EAAE,GAAT;AAAcF,UAAAA,OAAO,EAAE;AAAvB,SAAb;AAA6C,QAAA,KAAK,EAAC,gBAAnD;AAAoE,QAAA,QAAQ,EAAE,KAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EACqB,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,IAAI,EAAC,IAAzB;AAA8B,QAAA,KAAK,EAAE;AAAEE,UAAAA,KAAK,EAAE,GAAT;AAAeC,UAAAA,QAAQ,EAAE,MAAzB;AAAiCJ,UAAAA,UAAU,EAAE;AAA7C,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADrB,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,EAEkB,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,IAAI,EAAC,GAAzB;AAA6B,QAAA,KAAK,EAAE;AAAEG,UAAAA,KAAK,EAAE,GAAT;AAAcC,UAAAA,QAAQ,EAAE,MAAxB;AAAgCJ,UAAAA,UAAU,EAAE;AAA5C,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFlB,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHJ,EAGkB,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,IAAI,EAAC,GAAzB;AAA6B,QAAA,KAAK,EAAE;AAAEG,UAAAA,KAAK,EAAE,GAAT;AAAeC,UAAAA,QAAQ,EAAE,MAAzB;AAAiCJ,UAAAA,UAAU,EAAE;AAA7C,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHlB,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJJ,EAIc,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,IAAI,EAAC,GAAzB;AAA6B,QAAA,KAAK,EAAE;AAAEG,UAAAA,KAAK,EAAE,GAAT;AAAeC,UAAAA,QAAQ,EAAE,MAAzB;AAAiCJ,UAAAA,UAAU,EAAE;AAA7C,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJd,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,EAKU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALV,EAOI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACK,oBAAL,CAA0Bb,UAAU,CAAC,MAAI,CAACnC,KAAL,CAAWC,CAAZ,CAApC,EAAoDkC,UAAU,CAAC,MAAI,CAACnC,KAAL,CAAWE,CAAZ,CAA9D,EAA8E+C,QAAQ,CAAC,MAAI,CAACjD,KAAL,CAAWG,CAAZ,CAAtF,CAAN;AAAA,SAAjB;AAEI,QAAA,KAAK,EAAE;AAAE4C,UAAAA,QAAQ,EAAE,MAAZ;AAAoBG,UAAAA,UAAU,EAAE,EAAhC;AAAoCR,UAAAA,KAAK,EAAE,SAA3C;AAAsDS,UAAAA,UAAU,EAAE;AAAlE,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPJ,EAS6G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAT7G,EASmH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATnH,CADJ,CADJ,EAcI,oBAAC,GAAD;AAAK,QAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKnD,KAAL,CAAWsB,KAAX,IACG;AACA,0BAAC,IAAD;AACI,QAAA,QAAQ,EAAE,IADd;AAEI,QAAA,KAAK,EAAE;AAAE8B,UAAAA,YAAY,EAAE,EAAhB;AAAoBN,UAAAA,KAAK,EAAE,GAA3B;AAAgCO,UAAAA,MAAM,EAAE,GAAxC;AAA6CC,UAAAA,MAAM,EAAE,iBAArD;;AAAuE;AAA6BZ,UAAAA,KAAK,EAAE,SAA3G;AAAsHa,UAAAA,KAAK,EAAE;AAA7H,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAII,oBAAC,IAAD;AACI,QAAA,IAAI,EAAE,CACF;AACI1B,UAAAA,CAAC,EAAEzC,QADP;AAEIoE,UAAAA,CAAC,EAAEpE,QAAQ,CAACqE,GAAT,CAAa,UAAU5B,CAAV,EAAa;AACzB,mBAAO3C,IAAI,CAACuC,OAAL,CAAa3B,EAAb,EAAiB6B,IAAjB,CAAsB;AAAEE,cAAAA,CAAC,EAAEA;AAAL,aAAtB,CAAP;AACH,WAFE,CAFP;AAKIlB,UAAAA,IAAI,EAAE,IALV;AAMI+C,UAAAA,IAAI,EAAE,SANV;AAOIC,UAAAA,MAAM,EAAE;AAAEjB,YAAAA,KAAK,EAAE;AAAT,WAPZ;AAQIkB,UAAAA,IAAI,EAAE;AARV,SADE,EAWF;AACI/B,UAAAA,CAAC,EAAEzC,QADP;AAEIoE,UAAAA,CAAC,EAAEpE,QAAQ,CAACqE,GAAT,CAAa,UAAU5B,CAAV,EAAa;AACzB,mBAAO3C,IAAI,CAACuC,OAAL,CAAa3B,EAAb,EAAiB6B,IAAjB,CAAsB;AAAEE,cAAAA,CAAC,EAAEA;AAAL,aAAtB,CAAP;AACH,WAFE,CAFP;AAKIlB,UAAAA,IAAI,EAAE,IALV;AAMI+C,UAAAA,IAAI,EAAE,SANV;AAOIC,UAAAA,MAAM,EAAE;AAAEjB,YAAAA,KAAK,EAAE;AAAT,WAPZ;AAQIkB,UAAAA,IAAI,EAAE;AARV,SAXE,CADV;AAwBI,QAAA,MAAM,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SAxBZ;AAyBI,QAAA,KAAK,EAAE;AAAEf,UAAAA,KAAK,EAAE,KAAT;AAAgBS,UAAAA,KAAK,EAAE,MAAvB;AAA+BF,UAAAA,MAAM,EAAE;AAAvC,SAzBX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,EA+BI;AAAG,QAAA,KAAK,EAAE;AAAEN,UAAAA,QAAQ,EAAE,MAAZ;AAAoBJ,UAAAA,UAAU,EAAE;AAAhC,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADN,EACY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAQrD,CAAR,OAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAX,CADZ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAgBC,QAAhB,OAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA1B,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAaC,KAAb,OAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApB,CAHJ,CA/BJ,EAsCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtCJ,EAsCU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtCV,CAHR,CAdJ,CADJ,CADJ,EAiEI,oBAAC,OAAD;AAAS,QAAA,GAAG,EAAC,oBAAb;AAAkC,QAAA,GAAG,EAAC,GAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAK,QAAA,KAAK,EAAE;AAAEsD,UAAAA,KAAK,EAAE;AAAT,SAAZ;AAA4B,QAAA,IAAI,EAAE,EAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEA,UAAAA,KAAK,EAAE,GAAT;AAAcF,UAAAA,OAAO,EAAE,KAAvB;AAA8BO,UAAAA,UAAU,EAAE;AAA1C,SAAb;AAAoE,QAAA,KAAK,EAAC,uBAA1E;AAAkG,QAAA,QAAQ,EAAE,KAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,IAAZ;AAAiB,QAAA,IAAI,EAAC,OAAtB;AAA8B,QAAA,KAAK,EAAE;AAAEL,UAAAA,KAAK,EAAE,GAAT;AAAcK,UAAAA,UAAU,EAAE,OAA1B;AAAmCT,UAAAA,KAAK,EAAE,OAA1C;AAAmDK,UAAAA,QAAQ,EAAE,MAA7D;AAAqEJ,UAAAA,UAAU,EAAE;AAAjF,SAArC;AAAiI,QAAA,KAAK,EAAE,KAAK3C,KAAL,CAAWI,IAAX,CAAgB,EAAhB,EAAoBN,EAA5J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAIgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJhC,EAKI,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,GAAZ;AAAgB,QAAA,IAAI,EAAC,OAArB;AAA6B,QAAA,KAAK,EAAE;AAAEgD,UAAAA,KAAK,EAAE,GAAT;AAAcK,UAAAA,UAAU,EAAE,OAA1B;AAAmCT,UAAAA,KAAK,EAAE,OAA1C;AAAmDK,UAAAA,QAAQ,EAAE,MAA7D;AAAqEJ,UAAAA,UAAU,EAAE;AAAjF,SAApC;AAAgI,QAAA,KAAK,EAAE,KAAK3C,KAAL,CAAWI,IAAX,CAAgB,EAAhB,EAAoBF,CAA3J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAPJ,EAQI,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,GAAZ;AAAgB,QAAA,IAAI,EAAC,OAArB;AAA6B,QAAA,KAAK,EAAE;AAAE4C,UAAAA,KAAK,EAAE,GAAT;AAAcK,UAAAA,UAAU,EAAE,OAA1B;AAAmCT,UAAAA,KAAK,EAAE,OAA1C;AAAmDK,UAAAA,QAAQ,EAAE,MAA7D;AAAqEJ,UAAAA,UAAU,EAAE;AAAjF,SAApC;AAAgI,QAAA,KAAK,EAAE,KAAK3C,KAAL,CAAWI,IAAX,CAAgB,EAAhB,EAAoBD,CAA3J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARJ,EAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVJ,EAUU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVV,EAWI,oBAAC,MAAD;AAEI,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAAC6C,oBAAL,CAA0Bb,UAAU,CAAC,MAAI,CAACnC,KAAL,CAAWI,IAAX,CAAgB,EAAhB,EAAoBH,CAArB,CAApC,EAA6DkC,UAAU,CAAC,MAAI,CAACnC,KAAL,CAAWI,IAAX,CAAgB,EAAhB,EAAoBF,CAArB,CAAvE,EAAgGiC,UAAU,CAAC,MAAI,CAACnC,KAAL,CAAWI,IAAX,CAAgB,EAAhB,EAAoBD,CAArB,CAA1G,CAAN;AAAA,SAFb;AAGI,QAAA,KAAK,EAAE;AAAE4C,UAAAA,QAAQ,EAAE,MAAZ;AAAoBG,UAAAA,UAAU,EAAE,EAAhC;AAAoCR,UAAAA,KAAK,EAAE,SAA3C;AAAsDS,UAAAA,UAAU,EAAE;AAAlE,SAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAXJ,EAeS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfT,EAee;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAff,CADJ,CADJ,EAsBI,oBAAC,GAAD;AAAK,QAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKnD,KAAL,CAAWuB,OAAX,IACG;AACA,0BAAC,IAAD;AACI,QAAA,QAAQ,EAAE,IADd;AAEI,QAAA,KAAK,EAAE;AAAE6B,UAAAA,YAAY,EAAE,EAAhB;AAAoBN,UAAAA,KAAK,EAAE,GAA3B;AAAgCO,UAAAA,MAAM,EAAE,GAAxC;AAA6CC,UAAAA,MAAM,EAAE,iBAArD;;AAAuE;AAA6BZ,UAAAA,KAAK,EAAE,SAA3G;AAAsHa,UAAAA,KAAK,EAAE;AAA7H,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAII,oBAAC,IAAD;AACI,QAAA,IAAI,EAAE,CACF;AACI1B,UAAAA,CAAC,EAAEzC,QADP;AAEIoE,UAAAA,CAAC,EAAEpE,QAAQ,CAACqE,GAAT,CAAa,UAAU5B,CAAV,EAAa;AACzB,mBAAO3C,IAAI,CAACuC,OAAL,CAAa3B,EAAb,EAAiB6B,IAAjB,CAAsB;AAAEE,cAAAA,CAAC,EAAEA;AAAL,aAAtB,CAAP;AACH,WAFE,CAFP;AAKIlB,UAAAA,IAAI,EAAE,IALV;AAMI+C,UAAAA,IAAI,EAAE,SANV;AAOIC,UAAAA,MAAM,EAAE;AAAEjB,YAAAA,KAAK,EAAE;AAAT,WAPZ;AAQIkB,UAAAA,IAAI,EAAE;AARV,SADE,EAWF;AAEI/B,UAAAA,CAAC,EAACzC,QAFN;AAGIoE,UAAAA,CAAC,EAAC/D,SAHN;AAKIkB,UAAAA,IAAI,EAAE,UALV;AAMI+C,UAAAA,IAAI,EAAE,SANV;AAOIC,UAAAA,MAAM,EAAE;AAAEjB,YAAAA,KAAK,EAAE;AAAT;AAPZ,SAXE,CADV;AAuBI,QAAA,MAAM,EAAE;AAAEmB,UAAAA,KAAK,EAAE;AAAT,SAvBZ;AAwBI,QAAA,KAAK,EAAE;AAAEf,UAAAA,KAAK,EAAE,KAAT;AAAgBS,UAAAA,KAAK,EAAE,MAAvB;AAA+BF,UAAAA,MAAM,EAAE;AAAvC,SAxBX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,EA8BI;AAAG,QAAA,KAAK,EAAE;AAAEN,UAAAA,QAAQ,EAAE,MAAZ;AAAoBJ,UAAAA,UAAU,EAAE;AAAhC,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAASrD,CAAT,OAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAZ,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAgBC,QAAhB,OAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA1B,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAaC,KAAb,OAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApB,CAHJ,CA9BJ,EAsCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtCJ,EAsCU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtCV,CAHR,CAtBJ,CADJ,CAjEJ,CAHJ,CAFJ,EAkJI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlJJ,CAFR;AAwJH;;;;EAtR8BhB,S;;AAwRnC,eAAeuB,oBAAf","sourcesContent":["import React, { Component } from 'react';\nimport {  Card, Input, Button, Col, Row, Tabs } from 'antd';\nimport axios from 'axios';\nimport Plot from 'react-plotly.js';\nconst { TabPane } = Tabs;\nvar math = require('mathjs')\nvar counterh=[]\nvar Algebrite = require('algebrite')\nvar I, Integral, error;\nvar counterhy=[]\nfunction callback(key) {\n    console.log(key);\n}\nvar fx = \" \";\nclass CompositeTrapezoidal extends Component {\n    constructor() {\n        super();\n        this.state = {\n            fx: \"\",\n            a: 0,\n            b: 0,\n            n: 0,\n            data: [],\n            loading: true,\n            error: false,\n        }\n        this.handleChange = this.handleChange.bind(this);\n    }\n    handleChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n\n    }\n    compositetrapezoidal(a, b, n) {\n        if (this.state.fx !== \"\") {\n            fx = this.state.fx;\n        }\n        else {\n            fx = this.state.data[10].fx;\n        }\n        var h = (b - a) / n\n        var ans = a;\n        counterh[0]= ans;\n        console.log(\"ans\",ans);\n\n        for(var i =1 ;i<=n;i++){\n            ans = ans + h;\n            counterh[i] = ans; \n        }\n\n        I = (h / 2) * (this.func(a) + this.func(b) + 2 * this.summationX2(n, h, a))\n        counterhy[0] = this.func(a);//graph y\n        counterhy[n] = this.func(b);//graph y\n\n\n        console.log(this.func(a))\n        console.log(this.func(b))\n        Integral = this.Integrate(a, b)\n        error = Math.abs((Integral - I) / Integral)\n        I = I.toFixed(6);\n        Integral = Integral.toFixed(6);\n        error = error.toFixed(6);\n        if (this.state.fx !== \"\") {\n            this.setState({\n                Graph: true\n            })\n        }\n        else {\n            this.setState({\n            Graphdb: true\n\n            })\n        }\n    }\n    Integrate(a, b) {\n        if (this.state.fx !== \"\") {\n            var expr = math.compile(Algebrite.integral(Algebrite.eval(this.state.fx)).toString())\n            return expr.eval({ x: b }) - expr.eval({ x: a })\n        }\n        else {\n            expr = math.compile(Algebrite.integral(Algebrite.eval(this.state.data[10].fx)).toString())\n            return expr.eval({ x: b }) - expr.eval({ x: a })\n        }\n        //https://www.npmjs.com/package/algebrite\n    }\n    summationX2(n, h, a) {\n        var sum = 0\n        var section = a + h  // 3+2\n        console.log(section);\n        for (var i = 1; i < n; i++) { //วิ่งตามช่วง\n            sum += this.func(section) //เอาไปแทน\n            counterhy[i] = this.func(section); \n            section += h\n        }\n        console.log(sum);\n        return sum\n    }\n\n    func(X) {\n        if (this.state.fx !== \"\") {\n            var variable = math.compile(this.state.fx);\n            let scope = { x: parseFloat(X) }; //แปลงค่า string หรือตัวแปรให้เป็น Number\n            return variable.eval(scope); //eval compile 'String'\n        }\n        else {\n            var variables = math.compile(this.state.data[10].fx);\n            let scope = { x: parseFloat(X) }; //แปลงค่า string หรือตัวแปรให้เป็น Number\n            return variables.eval(scope); //eval compile 'String'\n        }\n    }\n    componentDidMount() {\n        axios.get('http://localhost:5000/api/bisectionfxs')\n            .then(res => {\n                const data = res.data.data; // get the data array instead of object\n                this.setState({ data, loading: false });\n                console.log(data);\n                // fx = this.state.data[0];\n\n            })\n            .catch(err => { // log request error and prevent access to undefined state\n                this.setState({ loading: false, error: true });\n                console.error(err);\n            })\n    }\n    render() {\n        if (this.state.loading) {\n            return (\n                <div>\n                    <p> Loading... </p>\n                </div>\n            )\n        }\n        if (this.state.error || !this.state.data[10]) { // if request failed or data is empty don't try to access it either\n            return (\n                <div>\n                    <p> An error occured </p>\n                </div>\n            )\n        }\n        return (\n           \n                <div >\n                    <h2 style={{ color: \"black\", fontWeight: \"bold\" }}>Composite Trapzoidal</h2>\n                    <div style={{ padding: 20, backgroundColor: '#fff1b8' }}\n                        onChange={this.handleChange}\n                    >\n                        <Tabs defaultActiveKey=\"1\" onChange={callback}>\n                            <TabPane tab=\"Insert by Yourself\" key=\"1\">\n                                <Row>\n                                    <Col style={{ width: 400 }} span={12}>\n                                        <Card style={{ width: 350, padding: '3px' }} title=\"Insert Eqation\" bordered={false}>\n                                            <h2>Equation</h2><Input size=\"large\" name=\"fx\" style={{ width: 300 , fontSize: \"18px\", fontWeight: \"bold\" }}></Input>\n                                            <h2>lower</h2><Input size=\"large\" name=\"a\" style={{ width: 300, fontSize: \"18px\", fontWeight: \"bold\"  }}></Input>\n                                            <h2>Upper</h2><Input size=\"large\" name=\"b\" style={{ width: 300 , fontSize: \"18px\", fontWeight: \"bold\" }}></Input>\n                                            <h2>n</h2><Input size=\"large\" name=\"n\" style={{ width: 300 , fontSize: \"18px\", fontWeight: \"bold\" }}></Input>\n                                            <br /><br />\n\n                                            <Button onClick={() => this.compositetrapezoidal(parseFloat(this.state.a), parseFloat(this.state.b), parseInt(this.state.n))}\n\n                                                style={{ fontSize: \"20px\", marginLeft: 90, color: '#ffffff', background: '#12406A' }}>Submit</Button><br /><br />\n                                        </Card>\n                                    </Col>\n                                    <Col span={12}>\n                                        {this.state.Graph &&\n                                            //https://stackoverflow.com/questions/52605304/show-hide-a-component-in-react-using-state/52605495\n                                            <Card\n                                                bordered={true}\n                                                style={{ marginBottom: 20, width: 700, height: 400, border: \"2px solid black\",/* background: \"#0000000\",*/ color: '#ffffff', float: \"left\" }}\n                                            >\n                                                <Plot\n                                                    data={[\n                                                        {\n                                                            x: counterh,\n                                                            y: counterh.map(function (x) {\n                                                                return math.compile(fx).eval({ x: x })\n                                                            }),\n                                                            name: 'fx',\n                                                            type: 'scatter',\n                                                            marker: { color: 'green' },\n                                                            fill: 'tozeroy',\n                                                        },\n                                                        {\n                                                            x: counterh,\n                                                            y: counterh.map(function (x) {\n                                                                return math.compile(fx).eval({ x: x })\n                                                            }),\n                                                            name: 'fx',\n                                                            type: 'scatter',\n                                                            marker: { color: 'green' },\n                                                            fill: 'tozeroy',\n                                                        },\n                                                       \n                                                    ]}\n                                                    layout={{ title: 'Plotfx' }}\n                                                    style={{ width: \"50%\", float: \"left\", height: \"360px\" }}\n                                                />\n                                                <p style={{ fontSize: \"24px\", fontWeight: \"bold\" }}>\n                                                <br /><br /><h4>I= {I} <br /></h4>\n                                                    <h4>Integral = {Integral} <br /></h4>\n                                                    <h4>error = {error} <br /></h4>\n\n\n                                                </p>\n                                                <br /><br />\n                                            </Card>\n\n                                        }\n                                    </Col>\n                                </Row>\n\n                            </TabPane>\n                            <TabPane tab=\"Insert By Database\" key=\"2\">\n                                <Row>\n                                    <Col style={{ width: 400 }} span={12}>\n                                        <Card style={{ width: 350, padding: '3px', background: '#1d39c4' }} title=\"Eqation from Database\" bordered={false}>\n                                            <h2>Equation</h2>\n                                            <Input name=\"fx\" size=\"large\" style={{ width: 300, background: 'black', color: 'white', fontSize: \"18px\", fontWeight: \"bold\"  }} value={this.state.data[10].fx}\n                                            />\n                                                                        <h2>x</h2>\n                                            <Input name=\"b\" size=\"large\" style={{ width: 300, background: 'black', color: 'white', fontSize: \"18px\", fontWeight: \"bold\"  }} value={this.state.data[10].b}\n                                            />\n                                            <h2>h</h2>\n                                            <Input name=\"n\" size=\"large\" style={{ width: 300, background: 'black', color: 'white', fontSize: \"18px\", fontWeight: \"bold\"  }} value={this.state.data[10].n}\n                                            />\n                                            <br /><br />\n                                            <Button\n\n                                                onClick={() => this.compositetrapezoidal(parseFloat(this.state.data[10].a), parseFloat(this.state.data[10].b), parseFloat(this.state.data[10].n))}\n                                                style={{ fontSize: \"20px\", marginLeft: 90, color: '#ffffff', background: '#12406A' }}>Request\n                                        </Button><br /><br /> \n                                        </Card>\n\n\n                                    </Col>\n                                    <Col span={12}>\n                                        {this.state.Graphdb &&\n                                            //https://stackoverflow.com/questions/52605304/show-hide-a-component-in-react-using-state/52605495\n                                            <Card\n                                                bordered={true}\n                                                style={{ marginBottom: 20, width: 700, height: 400, border: \"2px solid black\",/* background: \"#0000000\",*/ color: '#ffffff', float: \"left\" }}\n                                            >\n                                                <Plot\n                                                    data={[\n                                                        {\n                                                            x: counterh,\n                                                            y: counterh.map(function (x) {\n                                                                return math.compile(fx).eval({ x: x })\n                                                            }),\n                                                            name: 'fx',\n                                                            type: 'scatter',\n                                                            marker: { color: 'green' },\n                                                            fill: 'tozeroy',\n                                                        },\n                                                        {\n\n                                                            x:counterh,\n                                                            y:counterhy,\n\n                                                            name: 'middle*2',\n                                                            type: 'scatter',\n                                                            marker: { color: 'yellow' },\n                                                            \n                                                        }\n                                                    ]}\n                                                    layout={{ title: 'Plotfx' }}\n                                                    style={{ width: \"50%\", float: \"left\", height: \"360px\" }}\n                                                />\n                                                <p style={{ fontSize: \"24px\", fontWeight: \"bold\" }}>\n                                                    <h4>I = {I} <br /></h4>\n                                                    <h4>Integral = {Integral} <br /></h4>\n                                                    <h4>error = {error} <br /></h4>\n\n\n                                                </p>\n\n                                                <br /><br />\n                                            </Card>\n\n                                        }\n                                    </Col>\n                                </Row>\n\n                            </TabPane>\n\n                        </Tabs>\n                    </div>\n\n                    <br />\n\n                </div>\n        );\n    }\n}\nexport default CompositeTrapezoidal;\n"]},"metadata":{},"sourceType":"module"}